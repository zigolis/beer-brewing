<section id="mash-section" class="card">
    <h2>Mash Schedule</h2>

    <div class="card-content">        
        <% if (recipe.mash && recipe.mash.MASH_STEPS && recipe.mash.MASH_STEPS.MASH_STEP) {
            let steps = Array.isArray(recipe.mash.MASH_STEPS.MASH_STEP)
                ? recipe.mash.MASH_STEPS.MASH_STEP
                : [recipe.mash.MASH_STEPS.MASH_STEP]; %>
            <div id="mash-list">
                <% steps.forEach(function(step, idx) { %>
                    <div class="mash-card">
                        <div class="step-indicator"></div>
                        <div class="mash-content">
                            <div class="step-name"><%= step.NAME %></div>
                            <div class="step-details">
                                <% if (step.STEP_TEMP) { %>
                                    <span class="temperature"><%= step.STEP_TEMP %>Â°C</span>
                                <% } %> 

                                <% if (step.STEP_TIME) { %>
                                    <span class="step-time"><%= step.STEP_TIME %> min</span>
                                <% } %>
                            </div>
                        </div>
                    </div>
                <% }); %>
            </div>
        <% } else { %>
            <div class="empty-state">
                <p>No mash steps added to this recipe.</p>
            </div>
        <% } %>
    </div>
</section>
